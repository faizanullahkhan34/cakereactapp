{"ast":null,"code":"import axios from \"axios\";\nexport function loginMiddleware(data) {\n  return function (dispatch) {\n    let apiurl = process.env.REACT_APP_BASE_URI + \"login\";\n    dispatch({\n      type: \"LOGIN_STARTED\"\n    });\n    axios({\n      method: \"post\",\n      url: apiurl,\n      data: {\n        email: data.email,\n        password: data.password\n      }\n    }).then(res => {\n      //message= \"Success\";\n      // console.log(res)\n      localStorage.setItem('token', res.data.token);\n      dispatch({\n        type: 'LOGIN',\n        payload: {\n          token: res.data.token,\n          isLogedIn: true\n        }\n      }); // setTimeout(function(){ \n      //   props.history.push('/')\n      // }, 1000);\n    }, error => {\n      // message = error;\n      dispatch({\n        type: \"LOGIN_FAIL\"\n      });\n    });\n  };\n}\nexport function CartListMiddleware(data) {\n  //alert(1)\n  // alert(data)\n  return function (dispatch) {\n    axios({\n      method: \"post\",\n      url: process.env.REACT_APP_BASE_URI + 'cakecart',\n      headers: {\n        authtoken: data\n      },\n      data: {}\n    }).then(res => {\n      const Data = res.data.data;\n      dispatch({\n        type: 'ADDTOCART',\n        payload: {\n          cakedata: Data\n        }\n      }); //setcartList(Data);\n      //setLoading(false)\n      //setLoading(false)\n      //console.log('result is',res.data.data)\n    });\n  };\n}\n_c = CartListMiddleware;\nexport function RemoveCartMiddleware(data) {\n  // alert(data)\n  return function (dispatch) {\n    let apiurl = process.env.REACT_APP_BASE_URI + \"clearcart\";\n    axios({\n      method: \"post\",\n      url: apiurl,\n      headers: {\n        authtoken: data\n      },\n      data: {}\n    }).then(res => {\n      dispatch({\n        type: 'EMPTYCART'\n      });\n    }, error => {\n      console.log(error);\n    });\n  };\n}\n_c2 = RemoveCartMiddleware;\nexport function RemoveSpecificakeMiddleware(token, id, URI) {\n  // alert(data)\n  return function (dispatch) {\n    let apiurl = process.env.REACT_APP_BASE_URI + URI;\n    axios({\n      method: \"post\",\n      url: apiurl,\n      headers: {\n        authtoken: token\n      },\n      data: {\n        cakeid: id\n      }\n    }).then(res => {\n      dispatch({\n        type: 'REMOVESPECIC',\n        payload: {\n          status: true\n        }\n      }); //  CartListMiddleware(token)\n    }, error => {\n      console.log(error);\n    });\n  };\n}\n_c3 = RemoveSpecificakeMiddleware;\nexport function OrderMiddleware(data) {\n  return function (dispatch) {\n    axios({\n      method: \"post\",\n      url: process.env.REACT_APP_BASE_URI + 'cakeorders',\n      headers: {\n        authtoken: data\n      },\n      data: {}\n    }).then(res => {\n      console.log('orders', res.data.cakeorders);\n      const Data = res.data.error != null ? [] : res.data.cakeorders; //console.log('result is',res)\n\n      dispatch({\n        type: 'ALLORDERS',\n        payload: {\n          orders: Data\n        }\n      });\n    });\n  };\n}\n_c4 = OrderMiddleware;\nexport function PlaceOrderMiddleware(token, data, cart, price) {\n  return function (dispatch) {\n    axios({\n      method: \"post\",\n      url: process.env.REACT_APP_BASE_URI + 'addcakeorder',\n      headers: {\n        authtoken: token\n      },\n      data: {\n        city: data.city,\n        name: data.username,\n        address: data.address,\n        pincode: data.pincode,\n        phone: data.phone,\n        cakes: cart,\n        price: price\n      }\n    }).then(res => {\n      const Data = res.data.error != null ? [] : res.data.data;\n      dispatch({\n        type: 'PLACEORDER',\n        payload: {\n          success: true\n        }\n      });\n    });\n  };\n}\n_c5 = PlaceOrderMiddleware;\n\nvar _c, _c2, _c3, _c4, _c5;\n\n$RefreshReg$(_c, \"CartListMiddleware\");\n$RefreshReg$(_c2, \"RemoveCartMiddleware\");\n$RefreshReg$(_c3, \"RemoveSpecificakeMiddleware\");\n$RefreshReg$(_c4, \"OrderMiddleware\");\n$RefreshReg$(_c5, \"PlaceOrderMiddleware\");","map":{"version":3,"sources":["/home/faizan/Desktop/my-apps-folder/new-react-app/src/reduxstore/middlewares.js"],"names":["axios","loginMiddleware","data","dispatch","apiurl","process","env","REACT_APP_BASE_URI","type","method","url","email","password","then","res","localStorage","setItem","token","payload","isLogedIn","error","CartListMiddleware","headers","authtoken","Data","cakedata","RemoveCartMiddleware","console","log","RemoveSpecificakeMiddleware","id","URI","cakeid","status","OrderMiddleware","cakeorders","orders","PlaceOrderMiddleware","cart","price","city","name","username","address","pincode","phone","cakes","success"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nexport function loginMiddleware(data){\n\n    return function(dispatch){\n        let  apiurl =process.env.REACT_APP_BASE_URI+\"login\";\n\n        dispatch({\n          type:\"LOGIN_STARTED\"\n        });\n\n        axios({method:\"post\",url:apiurl,data:{\n          email:data.email,\n          password:data.password\n        }}).then((res)=>{\n              //message= \"Success\";\n             // console.log(res)\n              localStorage.setItem('token',res.data.token);\n              dispatch({\n                  type:'LOGIN',\n                  payload:{\n                    token:res.data.token,\n                    isLogedIn:true\n                  }\n              });\n\n              // setTimeout(function(){ \n              //   props.history.push('/')\n              // }, 1000);\n      } ,(error)=>{\n              // message = error;\n              dispatch({\n                type:\"LOGIN_FAIL\"\n              });\n      });\n    }\n         \n}\n\nexport function CartListMiddleware(data){\n  //alert(1)\n   // alert(data)\n    return function(dispatch){\n        axios(\n            {\n                method:\"post\",\n                url:process.env.REACT_APP_BASE_URI+'cakecart',\n                headers:{\n                   authtoken:data\n                },\n                data:{}})\n                    .then(res => {\n                        const Data = res.data.data;\n                        dispatch({\n                            type:'ADDTOCART',\n                            payload:{\n                              cakedata:Data\n                            }\n                        });\n                        //setcartList(Data);\n                        //setLoading(false)\n                        //setLoading(false)\n                        //console.log('result is',res.data.data)\n                    });\n    }\n   \n\n}\n\n\nexport function RemoveCartMiddleware(data){\n  // alert(data)\n   return function(dispatch){\n    let  apiurl =process.env.REACT_APP_BASE_URI+\"clearcart\";\n \n           axios({\n           method:\"post\",\n           url:apiurl,\n           headers:{\n              authtoken:data\n           },\n           data:{}}).then((res)=>{\n            dispatch({\n              type:'EMPTYCART',\n           });\n         } ,(error)=>{\n                 console.log(error)\n         });\n      \n   }\n}\n\n\nexport function RemoveSpecificakeMiddleware(token,id,URI){\n  // alert(data)\n   return function(dispatch){\n    let  apiurl =process.env.REACT_APP_BASE_URI+URI;\n \n           axios({\n           method:\"post\",\n           url:apiurl,\n           headers:{\n              authtoken:token\n           },\n           data:{\n             cakeid:id\n           }}).then((res)=>{\n          \n            dispatch({\n              type:'REMOVESPECIC',\n              payload:{\n                status:true\n              }\n           });\n           \n        //  CartListMiddleware(token)\n         } ,(error)=>{\n                 console.log(error)\n         });\n      \n   }\n}\n\nexport function OrderMiddleware(data){\n   return function(dispatch){\n       axios(\n           {\n               method:\"post\",\n               url:process.env.REACT_APP_BASE_URI+'cakeorders',\n               headers:{\n                  authtoken:data\n               },\n               data:{}})\n                   .then(res => {\n                     console.log('orders',res.data.cakeorders)\n                       const Data = res.data.error!=null?[]:res.data.cakeorders;\n                       //console.log('result is',res)\n                       dispatch({\n                           type:'ALLORDERS',\n                           payload:{\n                            orders:Data\n                           }\n                       });\n                   });\n   }\n  \n\n}\n\n\nexport function PlaceOrderMiddleware(token,data,cart,price){\n  return function(dispatch){\n      axios(\n          {\n              method:\"post\",\n              url:process.env.REACT_APP_BASE_URI+'addcakeorder',\n              headers:{\n                 authtoken:token\n              },\n              data:{\n                city:data.city,\n                name:data.username,\n                address:data.address,\n                pincode:data.pincode,\n                phone:data.phone,\n                cakes:cart,\n                price:price\n              }})\n                  .then(res => {\n                      const Data = res.data.error!=null?[]:res.data.data;\n                      dispatch({\n                          type:'PLACEORDER',\n                          payload:{\n                           success:true\n                          }\n                      });\n                  });\n  }\n \n\n}"]},"metadata":{},"sourceType":"module"}