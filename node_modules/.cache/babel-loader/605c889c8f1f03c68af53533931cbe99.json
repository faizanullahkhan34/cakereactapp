{"ast":null,"code":"var _jsxFileName = \"/home/faizan/Desktop/my-apps-folder/new-react-app/src/components/cart.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { Redirect } from 'react-router-dom';\nimport \"../css/cart.css\";\nimport { withRouter, Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport Empty from '../images/emty.png';\nimport axios from 'axios';\nimport Loader from \"react-loader-spinner\";\nimport AddBoxOutlinedIcon from '@material-ui/icons/AddBoxOutlined';\nimport IndeterminateCheckBoxOutlinedIcon from '@material-ui/icons/IndeterminateCheckBoxOutlined';\nimport { CartListMiddleware, RemoveCartMiddleware, RemoveSpecificakeMiddleware } from '../reduxstore/middlewares';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Cart(props) {\n  _s();\n\n  //const[cartList,setcartList] =React.useState({});\n  //const[isLoading,setLoading] =React.useState(true);\n  // React.useEffect(() => {\n  //commented by SNT 10062021\n  // axios(\n  // {\n  //     method:\"post\",\n  //     url:process.env.REACT_APP_BASE_URI+'cakecart',\n  //     headers:{\n  //        authtoken:props.token\n  //     },\n  //     data:{}})\n  //         .then(res => {\n  //             const Data = res.data.data;\n  //             console.log(\"data is\",Data);\n  //             props.dispatch({\n  //                 type:'ADDTOCART',\n  //                 payload:{\n  //                   cakedata:Data\n  //                 }\n  //             });\n  //             setcartList(Data);\n  //             setLoading(false)\n  //             //setLoading(false)\n  //             //console.log('result is',res.data.data)\n  //         })\n  //const token = props.token;\n  //props.dispatch(CartListMiddleware(token));     \n  //  }, []);\n  //called when get cart from backend\n  //   React.useEffect(() => {\n  //      // alert(3)\n  //     if(props.cart.length>0){\n  //         setLoading(false)\n  //     }\n  //    }, [props.cart ]);\n  const Emptycart = e => {\n    const token = props.token;\n    props.dispatch(RemoveCartMiddleware(token));\n  }; //remove cake\n\n\n  const Remove = (e, cakeid, URI) => {\n    const token = props.token; //const URI= \"removecakefromcart\"\n\n    if (URI == \"removecakefromcart\") {\n      props.dispatch(RemoveSpecificakeMiddleware(token, cakeid, URI));\n      return;\n    }\n\n    props.dispatch(RemoveSpecificakeMiddleware(token, cakeid, URI));\n  }; //add cake\n\n\n  const AddCake = (e, cakedata) => {\n    let apiurl = process.env.REACT_APP_BASE_URI + \"addcaketocart\";\n    axios({\n      method: \"post\",\n      url: apiurl,\n      headers: {\n        authtoken: props.token\n      },\n      data: {\n        cakeid: cakedata.cakeid,\n        name: cakedata.name,\n        image: cakedata.image,\n        price: cakedata.price,\n        weight: cakedata.weight\n      }\n    }).then(res => {\n      const token = props.token;\n      props.dispatch(CartListMiddleware(token));\n    }, error => {// console.log(error)\n    });\n  };\n\n  const changeTab = () => {\n    props.click();\n    props.history.push('/checkout/address');\n  };\n\n  React.useEffect(() => {\n    if (props.status == true) {\n      props.history.push('/cart');\n    }\n  }, [props.status]);\n  React.useEffect(() => {\n    if (props.status == true) {\n      props.history.push('/my-orders');\n    }\n  }, [props.ordersuccess]);\n\n  if (localStorage.getItem('token')) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        class: `${props.show == false ? null : 'container'}`,\n        children: [props.show == false ? null : /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"alert alert-dark\",\n          role: \"alert\",\n          children: /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Your cart \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 24\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 41\n        }, this), props.isLoading === true ? /*#__PURE__*/_jsxDEV(\"center\", {\n          children: props.show == false ? null : /*#__PURE__*/_jsxDEV(Loader, {\n            type: \"TailSpin\",\n            color: \"#00BFFF\",\n            height: 80,\n            width: 80\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 45\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 41\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"row \",\n          children: props.cart && props.cart.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"card mb-3 cakeDetails\",\n            style: {\n              padding: '30px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"table-responsive shopping-cart\",\n              children: /*#__PURE__*/_jsxDEV(\"table\", {\n                class: \"table table-striped\",\n                children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"Product Name\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 133,\n                      columnNumber: 41\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      class: \"text-center\",\n                      children: \"Quantity\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 134,\n                      columnNumber: 41\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      class: \"text-center\",\n                      children: \"Price\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 135,\n                      columnNumber: 41\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      class: \"text-center\",\n                      children: \"Amount\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 136,\n                      columnNumber: 41\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      class: \"text-center\",\n                      children: /*#__PURE__*/_jsxDEV(\"a\", {\n                        class: \"btn btn-sm btn-outline-danger\",\n                        href: \"#\",\n                        onClick: Emptycart,\n                        children: \"Clear All\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 137,\n                        columnNumber: 65\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 137,\n                      columnNumber: 41\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 132,\n                    columnNumber: 37\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 131,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                  children: props.cart.map(x => {\n                    return /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          class: \"product-item\",\n                          children: [/*#__PURE__*/_jsxDEV(\"a\", {\n                            class: \"product-thumb\",\n                            href: '/cake/' + x.cakeid,\n                            children: /*#__PURE__*/_jsxDEV(\"img\", {\n                              src: x.image,\n                              alt: \"Product\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 146,\n                              columnNumber: 99\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 146,\n                            columnNumber: 49\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            class: \"product-info\",\n                            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                              class: \"product-title\",\n                              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                                href: '/cake/' + x.cakeid,\n                                children: x.name\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 148,\n                                columnNumber: 79\n                              }, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 148,\n                              columnNumber: 53\n                            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                              children: [/*#__PURE__*/_jsxDEV(\"em\", {\n                                children: \"Weight:\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 148,\n                                columnNumber: 130\n                              }, this), \" \", x.weight]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 148,\n                              columnNumber: 124\n                            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                              children: [/*#__PURE__*/_jsxDEV(\"em\", {\n                                children: \"Flavour:\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 148,\n                                columnNumber: 170\n                              }, this), \" \", x.name.split(\" \")[0]]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 148,\n                              columnNumber: 164\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 147,\n                            columnNumber: 49\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 143,\n                          columnNumber: 45\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 142,\n                        columnNumber: 41\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        class: \"text-center\",\n                        children: [/*#__PURE__*/_jsxDEV(AddBoxOutlinedIcon, {\n                          style: {\n                            cursor: 'pointer'\n                          },\n                          onClick: e => AddCake(e, x)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 153,\n                          columnNumber: 45\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          class: \"count-input\",\n                          children: /*#__PURE__*/_jsxDEV(\"label\", {\n                            children: [\" \", x.quantity, \" \"]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 155,\n                            columnNumber: 49\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 154,\n                          columnNumber: 45\n                        }, this), /*#__PURE__*/_jsxDEV(IndeterminateCheckBoxOutlinedIcon, {\n                          style: {\n                            cursor: 'pointer'\n                          },\n                          onClick: e => Remove(e, x.cakeid, \"removeonecakefromcart\")\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 157,\n                          columnNumber: 45\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 152,\n                        columnNumber: 41\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        class: \"text-center text-lg text-medium\",\n                        children: [\" \\u20B9\", x.price / x.quantity]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 159,\n                        columnNumber: 41\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        class: \"text-center text-lg text-medium\",\n                        children: [\"\\u20B9\", x.price]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 160,\n                        columnNumber: 41\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        class: \"text-center\",\n                        children: /*#__PURE__*/_jsxDEV(\"a\", {\n                          class: \"remove-from-cart\",\n                          href: \"#\",\n                          onClick: e => Remove(e, x.cakeid, \"removecakefromcart\"),\n                          \"data-toggle\": \"tooltip\",\n                          title: \"\",\n                          \"data-original-title\": \"Remove item\",\n                          children: /*#__PURE__*/_jsxDEV(\"i\", {\n                            class: \"fa fa-trash\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 161,\n                            columnNumber: 222\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 161,\n                          columnNumber: 65\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 161,\n                        columnNumber: 41\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 141,\n                      columnNumber: 63\n                    }, this);\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 140,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 130,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"shopping-cart-footer\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"column text-lg\",\n                children: [\"Total: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  class: \"text-medium\",\n                  children: [\"\\u20B9\", Number(parseFloat(props.total).toFixed(2)).toLocaleString('en', {\n                    minimumFractionDigits: 2\n                  })]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 167,\n                  columnNumber: 64\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 167,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 25\n            }, this), props.show == false ? /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"shopping-cart-footer\",\n              children: /*#__PURE__*/_jsxDEV(\"center\", {\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  class: \"column\",\n                  children: /*#__PURE__*/_jsxDEV(\"a\", {\n                    class: \"btn btn-outline-primary\",\n                    onClick: changeTab,\n                    children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                      class: \"icon-arrow-left\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 176,\n                      columnNumber: 104\n                    }, this), \"\\xA0Proceed\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 176,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 176,\n                  columnNumber: 29\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 175,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 25\n            }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"shopping-cart-footer\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  class: \"column\",\n                  children: /*#__PURE__*/_jsxDEV(\"a\", {\n                    class: \"btn btn-outline-secondary\",\n                    href: \"/\",\n                    children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                      class: \"icon-arrow-left\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 183,\n                      columnNumber: 95\n                    }, this), \"\\xA0Back to Shopping\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 183,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 183,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  class: \"column\",\n                  children: /*#__PURE__*/_jsxDEV(\"a\", {\n                    class: \"btn btn-success\",\n                    href: \"/checkout\",\n                    children: \"Checkout\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 184,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 184,\n                  columnNumber: 29\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 182,\n                columnNumber: 25\n              }, this)\n            }, void 0, false)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 22\n          }, this) : /*#__PURE__*/_jsxDEV(\"center\", {\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: Empty,\n              style: {\n                width: '500px'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 26\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Your Cart is Empty. \", /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/\",\n                children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Click here \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 190,\n                  columnNumber: 53\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 190,\n                columnNumber: 40\n              }, this), \"to see Cakes\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 18\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 18\n      }, this)\n    }, void 0, false);\n  } else {\n    return /*#__PURE__*/_jsxDEV(Redirect, {\n      to: \"/sign-in\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 24\n    }, this);\n  }\n}\n\n_s(Cart, \"3ubReDTFssvu4DHeldAg55cW/CI=\");\n\n_c = Cart;\n\nfunction mapStateToProps(state, props) {\n  return {\n    cart: state.CartReducer.cart,\n    isLoading: state.CartReducer.isLoading,\n    token: state.AuthReducer.token,\n    total: state.CartReducer.totalprice,\n    status: state.CartReducer.status,\n    ordersuccess: state.CartReducer.ordersuccess\n  };\n}\n\n;\nexport default connect(mapStateToProps)(withRouter(Cart));\n\nvar _c;\n\n$RefreshReg$(_c, \"Cart\");","map":{"version":3,"sources":["/home/faizan/Desktop/my-apps-folder/new-react-app/src/components/cart.js"],"names":["React","Redirect","withRouter","Link","connect","Empty","axios","Loader","AddBoxOutlinedIcon","IndeterminateCheckBoxOutlinedIcon","CartListMiddleware","RemoveCartMiddleware","RemoveSpecificakeMiddleware","Cart","props","Emptycart","e","token","dispatch","Remove","cakeid","URI","AddCake","cakedata","apiurl","process","env","REACT_APP_BASE_URI","method","url","headers","authtoken","data","name","image","price","weight","then","res","error","changeTab","click","history","push","useEffect","status","ordersuccess","localStorage","getItem","show","isLoading","cart","length","padding","map","x","split","cursor","quantity","Number","parseFloat","total","toFixed","toLocaleString","minimumFractionDigits","width","mapStateToProps","state","CartReducer","AuthReducer","totalprice"],"mappings":"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","sourcesContent":["import React from 'react';\nimport{Redirect} from 'react-router-dom';\nimport \"../css/cart.css\";\nimport {withRouter, Link} from 'react-router-dom';\nimport {connect} from 'react-redux';\nimport Empty from '../images/emty.png'\nimport axios from 'axios';\nimport Loader from \"react-loader-spinner\";\nimport AddBoxOutlinedIcon from '@material-ui/icons/AddBoxOutlined';\nimport IndeterminateCheckBoxOutlinedIcon from '@material-ui/icons/IndeterminateCheckBoxOutlined';\nimport { CartListMiddleware , RemoveCartMiddleware, RemoveSpecificakeMiddleware} from '../reduxstore/middlewares'\n\n\n\nfunction Cart(props) {\n    //const[cartList,setcartList] =React.useState({});\n    //const[isLoading,setLoading] =React.useState(true);\n\n   // React.useEffect(() => {\n        //commented by SNT 10062021\n        // axios(\n        // {\n        //     method:\"post\",\n        //     url:process.env.REACT_APP_BASE_URI+'cakecart',\n        //     headers:{\n        //        authtoken:props.token\n        //     },\n        //     data:{}})\n        //         .then(res => {\n        //             const Data = res.data.data;\n        //             console.log(\"data is\",Data);\n                   \n        //             props.dispatch({\n        //                 type:'ADDTOCART',\n        //                 payload:{\n        //                   cakedata:Data\n        //                 }\n        //             });\n        //             setcartList(Data);\n        //             setLoading(false)\n        //             //setLoading(false)\n        //             //console.log('result is',res.data.data)\n        //         })\n        //const token = props.token;\n        //props.dispatch(CartListMiddleware(token));     \n    //  }, []);\n\n      //called when get cart from backend\n    //   React.useEffect(() => {\n    //      // alert(3)\n    //     if(props.cart.length>0){\n    //         setLoading(false)\n    //     }\n \n    //    }, [props.cart ]);\n\n    const  Emptycart=(e)=>{\n               const token = props.token;\n               props.dispatch(RemoveCartMiddleware(token)); \n      };\n\n      //remove cake\n      const  Remove=(e,cakeid,URI)=>{\n        const token = props.token;\n        //const URI= \"removecakefromcart\"\n        if(URI== \"removecakefromcart\"){\n            props.dispatch(RemoveSpecificakeMiddleware(token,cakeid,URI)); \n            return;\n        }\n        props.dispatch(RemoveSpecificakeMiddleware(token,cakeid,URI)); \n\n    };\n\n    //add cake\n    const  AddCake=(e,cakedata)=>{\n        let  apiurl =process.env.REACT_APP_BASE_URI+\"addcaketocart\";\n   \n        axios({\n        method:\"post\",\n        url:apiurl,\n        headers:{\n           authtoken:props.token\n        },\n        data:{\n           cakeid:cakedata.cakeid,\n           name:cakedata.name,\n           image:cakedata.image,\n           price:cakedata.price,\n           weight:cakedata.weight\n        }}).then((res)=>{\n\n            const token = props.token;\n            props.dispatch(CartListMiddleware(token)); \n          \n      } ,(error)=>{\n             // console.log(error)\n      })\n    };\n\n    const changeTab=()=>{\n        props.click();\n        props.history.push('/checkout/address');\n    }\n\n        React.useEffect(() => {\n            if(props.status == true){\n                props.history.push('/cart');\n            }\n        }, [props.status ]);\n\n        React.useEffect(() => {\n            if(props.status == true){\n            props.history.push('/my-orders');\n            }\n        }, [props.ordersuccess ]);\n\n        if(localStorage.getItem('token')){\n            return<>   \n                 <div class={`${props.show==false?null:'container'}`}>\n                {props.show==false?null:<div class=\"alert alert-dark\" role=\"alert\">\n                       <h3>Your cart </h3> \n                </div>}\n                {props.isLoading===true?<center>\n                    {props.show==false?null:<Loader type=\"TailSpin\" color=\"#00BFFF\" height={80} width={80} />}\n                </center>:\n                <div class=\"row \">\n                {props.cart &&props.cart.length>0?\n                     <div class=\"card mb-3 cakeDetails\" style={{ padding: '30px' }}>\n                        <div class=\"table-responsive shopping-cart\">\n                            <table class=\"table table-striped\">\n                                <thead>\n                                    <tr>\n                                        <th>Product Name</th>\n                                        <th class=\"text-center\">Quantity</th>\n                                        <th class=\"text-center\">Price</th>\n                                        <th class=\"text-center\">Amount</th>\n                                        <th class=\"text-center\"><a class=\"btn btn-sm btn-outline-danger\" href=\"#\" onClick={Emptycart}>Clear All</a></th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                {props.cart.map((x)=>{ return <tr>\n                                        <td>\n                                            <div class=\"product-item\">\n                                            {/* <Link to={'/cake/'+key.cakeid}><img  src={key.image} style={{height:'250px'}}class=\"card-img-top\" alt=\"...\" /></Link> */}\n\n                                                <a class=\"product-thumb\" href={'/cake/'+x.cakeid}><img src={x.image} alt=\"Product\" /></a>\n                                                <div class=\"product-info\">\n                                                    <h4 class=\"product-title\"><a href={'/cake/'+x.cakeid}>{x.name}</a></h4><span><em>Weight:</em> {x.weight}</span><span><em>Flavour:</em> {x.name.split(\" \")[0]}</span>\n                                                </div>\n                                            </div>\n                                        </td>\n                                        <td class=\"text-center\">\n                                            <AddBoxOutlinedIcon style={{cursor:'pointer'}}  onClick={(e)=>AddCake(e,x)}/>\n                                            <div class=\"count-input\">\n                                                <label> {x.quantity} </label>\n                                            </div>\n                                            <IndeterminateCheckBoxOutlinedIcon style={{cursor:'pointer'}} onClick={(e)=>Remove(e,x.cakeid,\"removeonecakefromcart\")} />\n                                        </td>\n                                        <td class=\"text-center text-lg text-medium\"> &#8377;{x.price/x.quantity}</td>\n                                        <td class=\"text-center text-lg text-medium\">&#8377;{x.price}</td>\n                                        <td class=\"text-center\"><a class=\"remove-from-cart\" href=\"#\" onClick={(e)=>Remove(e,x.cakeid,\"removecakefromcart\")} data-toggle=\"tooltip\" title=\"\" data-original-title=\"Remove item\"><i class=\"fa fa-trash\"></i></a></td>\n                                    </tr>})}\n                                </tbody>\n                            </table>\n                        </div>\n                        <div class=\"shopping-cart-footer\">\n                            <div class=\"column text-lg\">Total: <span class=\"text-medium\">&#8377;{\n                             Number(parseFloat(props.total).toFixed(2)).toLocaleString('en', {\n                                minimumFractionDigits: 2\n                            })\n                            }</span></div>\n                        </div>           \n                        {props.show==false?\n                        <div class=\"shopping-cart-footer\">\n                            <center>\n                            <div class=\"column\"><a class=\"btn btn-outline-primary\" onClick={changeTab}><i class=\"icon-arrow-left\"></i>&nbsp;Proceed</a></div>\n                            </center>\n                        </div>\n                        :\n                        <>\n                       \n                        <div class=\"shopping-cart-footer\">\n                            <div class=\"column\"><a class=\"btn btn-outline-secondary\" href=\"/\"><i class=\"icon-arrow-left\"></i>&nbsp;Back to Shopping</a></div>\n                            <div class=\"column\"><a class=\"btn btn-success\" href=\"/checkout\">Checkout</a></div>\n                        </div>\n                        </>\n                        }\n                    </div>\n                :<center><img src={Empty} style={{width:'500px'}} />\n                <p>Your Cart is Empty. <Link to=\"/\"><strong>Click here </strong></Link>to see Cakes</p>\n                </center>}\n                </div>}\n                {/* end of row */}\n                </div>\n                </>\n        }\n        else{\n               return  <Redirect to='/sign-in' />\n        }\n\n}\n\nfunction mapStateToProps(state,props){\n    return{\n      cart:state.CartReducer.cart,\n      isLoading:state.CartReducer.isLoading,\n      token:state.AuthReducer.token,\n      total:state.CartReducer.totalprice,\n      status:state.CartReducer.status,\n      ordersuccess:state.CartReducer.ordersuccess\n    }\n  };\n  \nexport default connect(mapStateToProps)(withRouter(Cart));"]},"metadata":{},"sourceType":"module"}