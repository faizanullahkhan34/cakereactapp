{"ast":null,"code":"var _jsxFileName = \"/home/faizan/Desktop/my-apps-folder/new-react-app/src/components/cakeDetails.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport axios from 'axios';\nimport { useParams, Link } from 'react-router-dom';\nimport Loader from \"react-loader-spinner\";\nimport Img1 from '../images/4.jpg';\nimport Cake from './cake';\nimport '../css/App.css';\nimport \"../css/styles.css\";\nimport '../../node_modules/font-awesome/css/font-awesome.min.css';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport Rating from '@material-ui/lab/Rating';\nimport { CartListMiddleware } from '../reduxstore/middlewares';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction CakeDetails(props) {\n  _s();\n\n  const [cakedata, setCakeData] = React.useState({});\n  const [cakelist, setCakeList] = React.useState({});\n  const [isLoading, setLoading] = React.useState(true);\n  let {\n    cakeid\n  } = useParams();\n  React.useEffect(() => {\n    axios.get(process.env.REACT_APP_BASE_URI + 'cake/' + cakeid).then(res => {\n      const Data = res.data.data; // console.log(\"data is\",Data);\n\n      setCakeData(Data);\n      setLoading(false); //console.log('result is',res.data.data)\n    });\n  }, [cakeid]);\n  React.useEffect(() => {\n    axios.get(process.env.REACT_APP_BASE_URI + `searchcakes?q=${cakedata.flavour}`).then(res => {\n      const Data = res.data.data;\n      setCakeList(Data);\n    });\n  }, [cakedata]);\n\n  const addToCart = e => {\n    if (props.token == undefined) {\n      props.history.push('/sign-in');\n    } else {\n      let apiurl = process.env.REACT_APP_BASE_URI + \"addcaketocart\";\n      axios({\n        method: \"post\",\n        url: apiurl,\n        headers: {\n          authtoken: props.token\n        },\n        data: {\n          cakeid: cakedata.cakeid,\n          name: cakedata.name,\n          image: cakedata.image,\n          price: cakedata.price,\n          weight: cakedata.weight\n        }\n      }).then(res => {\n        //console.log(\"result\", res)\n        //    props.dispatch({\n        //        type:'ADDTOCART',\n        //        payload:{\n        //          cakedata:res.data.data\n        //        }\n        //    });\n        const token = props.token;\n        props.dispatch(CartListMiddleware(token)); //  setTimeout(function(){ \n        //    props.history.push('/cart')\n        //  }, 1000);\n      }, error => {\n        console.log(error);\n      });\n    } //alert(1)\n\n  };\n\n  let {\n    image,\n    name,\n    description,\n    ratings,\n    type,\n    ingredients,\n    flavour,\n    price,\n    weight\n  } = cakedata; //console.log(\"cakedata\",cakedata);\n\n  return (\n    /*#__PURE__*/\n    //     <p>Using useParams:{cakeid}</p>\n    //     {/* {console.log('props are',props)} */}\n    _jsxDEV(\"div\", {\n      class: \"container \",\n      children: isLoading === true ? /*#__PURE__*/_jsxDEV(\"center\", {\n        children: /*#__PURE__*/_jsxDEV(Loader, {\n          type: \"Bars\",\n          color: \"#00BFFF\",\n          height: 80,\n          width: 80\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 31\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"center\", {\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            class: \"fa fa-home icon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 22\n          }, this), \" \\xA0\\xA0\", /*#__PURE__*/_jsxDEV(\"i\", {\n            class: \"fa fa-angle-double-right\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 66\n          }, this), \" Cakes  \\xA0\", /*#__PURE__*/_jsxDEV(\"i\", {\n            class: \"fa fa-angle-double-right\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 120\n          }, this), \"\\xA0\", type, \" \\xA0\\xA0\", /*#__PURE__*/_jsxDEV(\"i\", {\n            class: \"fa fa-angle-double-right\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 185\n          }, this), name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 16\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 16\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"card mb-3 cakeDetails\",\n          style: {\n            maxWidth: '540px;'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"row g-0\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"col-md-5 cakeDetailsImage\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: image,\n                alt: \"...\",\n                style: {\n                  width: '100%',\n                  height: '100%'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 103,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"col-md-7\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"card-body\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  class: \"card-title myClass\",\n                  style: {\n                    fontSize: '50px'\n                  },\n                  children: name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 107,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  class: \"card-text myClass\",\n                  children: description\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 108,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  class: \"card-text myClass head\",\n                  children: \" Ingredients \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 109,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                  children: ingredients.map(x => /*#__PURE__*/_jsxDEV(\"li\", {\n                    class: \"text-muted myClass\",\n                    children: x\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 111,\n                    columnNumber: 46\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 110,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  class: \"card-text myClass head\",\n                  children: [\" Flavour  \", /*#__PURE__*/_jsxDEV(\"small\", {\n                    class: \"text-muted\",\n                    children: flavour\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 115,\n                    columnNumber: 65\n                  }, this), \" \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 115,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  class: \"card-text myClass head\",\n                  children: [\" Wight  \", /*#__PURE__*/_jsxDEV(\"small\", {\n                    class: \"text-muted\",\n                    children: weight\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 116,\n                    columnNumber: 63\n                  }, this), \" \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 116,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  class: \"card-text myClass head\",\n                  children: [\" Price  \", /*#__PURE__*/_jsxDEV(\"small\", {\n                    class: \"text-muted\",\n                    children: [\" \\u20B9\", price]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 118,\n                    columnNumber: 63\n                  }, this), \" \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 118,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  class: \"card-text myClass head\",\n                  children: [\" Ratings\", /*#__PURE__*/_jsxDEV(Rating, {\n                    name: \"half-rating-read\",\n                    defaultValue: ratings,\n                    precision: 0.5,\n                    readOnly: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 120,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 119,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"button\",\n                  style: {\n                    borderRadius: '0px'\n                  },\n                  onClick: addToCart,\n                  children: \" Add To Cart \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 123,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 106,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"center\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            class: \"card-title\",\n            style: {\n              fontSize: '30px',\n              marginTop: '50px'\n            },\n            children: \"RELATED PRODUCTS\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 25\n          }, this), cakelist && cakelist.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"row row-cols-1 row-cols-md-4 row-cols-sm-3 row-cols-xs-12 g-4\",\n            children: /*#__PURE__*/_jsxDEV(Cake, {\n              data: cakelist\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 46\n          }, this) : /*#__PURE__*/_jsxDEV(\"h4\", {\n            style: {\n              color: '#635a5b'\n            },\n            children: \"No related items :(\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 47\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }, this) // end of container\n\n  );\n}\n\n_s(CakeDetails, \"Y0y3abodaQyx8Shyf8Zg2/dr38Q=\", false, function () {\n  return [useParams];\n});\n\n_c = CakeDetails;\n\nfunction mapStateToProps(state) {\n  return {\n    token: state.AuthReducer.token\n  };\n}\n\n;\nexport default connect(mapStateToProps)(withRouter(CakeDetails));\n\nvar _c;\n\n$RefreshReg$(_c, \"CakeDetails\");","map":{"version":3,"sources":["/home/faizan/Desktop/my-apps-folder/new-react-app/src/components/cakeDetails.js"],"names":["React","axios","useParams","Link","Loader","Img1","Cake","withRouter","connect","Rating","CartListMiddleware","CakeDetails","props","cakedata","setCakeData","useState","cakelist","setCakeList","isLoading","setLoading","cakeid","useEffect","get","process","env","REACT_APP_BASE_URI","then","res","Data","data","flavour","addToCart","e","token","undefined","history","push","apiurl","method","url","headers","authtoken","name","image","price","weight","dispatch","error","console","log","description","ratings","type","ingredients","maxWidth","width","height","fontSize","map","x","borderRadius","marginTop","length","color","mapStateToProps","state","AuthReducer"],"mappings":"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","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport {useParams, Link} from 'react-router-dom';\nimport Loader from \"react-loader-spinner\";\nimport Img1 from '../images/4.jpg';\nimport Cake from './cake';\nimport '../css/App.css';\nimport \"../css/styles.css\";\nimport '../../node_modules/font-awesome/css/font-awesome.min.css'; \nimport {withRouter} from 'react-router-dom';\nimport {connect} from 'react-redux';\nimport Rating from '@material-ui/lab/Rating';\nimport { CartListMiddleware } from '../reduxstore/middlewares'\n\n\n function CakeDetails(props) {\n    const[cakedata,setCakeData] =React.useState({});\n    const[cakelist,setCakeList] =React.useState({});\n\n    const[isLoading,setLoading] =React.useState(true);\n    let { cakeid } = useParams();\n    React.useEffect(() => {\n        axios.get(process.env.REACT_APP_BASE_URI+'cake/'+cakeid)\n                .then(res => {\n                    const Data = res.data.data;\n                   // console.log(\"data is\",Data);\n                    setCakeData(Data);\n                    setLoading(false)\n                    //console.log('result is',res.data.data)\n                })\n                   \n      }, [cakeid]);\n\n      React.useEffect(() => {\n        axios.get(process.env.REACT_APP_BASE_URI+`searchcakes?q=${cakedata.flavour}`)\n                .then(res => {\n                    const Data = res.data.data;\n                    setCakeList(Data);\n                })\n\n      }, [cakedata]);\n\n      const  addToCart=(e)=>{\n          if(props.token==undefined){\n            props.history.push('/sign-in')\n          }\n          else{\n             let  apiurl =process.env.REACT_APP_BASE_URI+\"addcaketocart\";\n   \n             axios({\n             method:\"post\",\n             url:apiurl,\n             headers:{\n                authtoken:props.token\n             },\n             data:{\n                cakeid:cakedata.cakeid,\n                name:cakedata.name,\n                image:cakedata.image,\n                price:cakedata.price,\n                weight:cakedata.weight\n             }}).then((res)=>{\n\n                //console.log(\"result\", res)\n                //    props.dispatch({\n                //        type:'ADDTOCART',\n                //        payload:{\n                //          cakedata:res.data.data\n                //        }\n                //    });\n   \n                 const token = props.token;\n                 props.dispatch(CartListMiddleware(token)); \n                  //  setTimeout(function(){ \n                  //    props.history.push('/cart')\n                  //  }, 1000);\n           } ,(error)=>{\n                   console.log(error)\n           })\n        }\n   //alert(1)\n         };\n\n    let{image,name ,description,ratings, type, ingredients, flavour,price, weight} =   cakedata;\n    //console.log(\"cakedata\",cakedata);\n    return (\n    \n        //     <p>Using useParams:{cakeid}</p>\n        //     {/* {console.log('props are',props)} */}\n        <div class=\"container \">\n            {isLoading===true?<center>\n            <Loader type=\"Bars\" color=\"#00BFFF\" height={80} width={80} />\n            </center>:\n            <>\n               <center>\n                     <i class=\"fa fa-home icon\"></i> &nbsp;&nbsp;<i class=\"fa fa-angle-double-right\"></i> Cakes  &nbsp;<i class=\"fa fa-angle-double-right\"></i>&nbsp;{type} &nbsp;&nbsp;<i class=\"fa fa-angle-double-right\"></i>{name}\n                    \n               </center> \n               <br />\n                <div class=\"card mb-3 cakeDetails\" style={{maxWidth: '540px;'}}>\n                <div class=\"row g-0\">\n                <div class=\"col-md-5 cakeDetailsImage\">\n                    <img src={image} alt=\"...\" style={{width:'100%',height:'100%'}}/>\n                </div>\n                <div class=\"col-md-7\">\n                    <div class=\"card-body\">\n                    <h4 class=\"card-title myClass\" style={{fontSize:'50px'}}>{name}</h4>\n                    <p class=\"card-text myClass\">{description}</p>\n                    <p class=\"card-text myClass head\"> Ingredients </p>\n                    <ul>\n                        {ingredients.map(x=> <li class=\"text-muted myClass\">{x}</li>)}\n                        \n                    </ul>\n                    {/* <p class=\"card-text\"><small class=\"text-muted\">Last updated 3 mins ago</small></p> */}\n                    <p class=\"card-text myClass head\"> Flavour  <small class=\"text-muted\">{flavour}</small> </p>\n                    <p class=\"card-text myClass head\"> Wight  <small class=\"text-muted\">{weight}</small> </p>\n\n                    <p class=\"card-text myClass head\"> Price  <small class=\"text-muted\"> &#8377;{price}</small> </p>\n                    <p class=\"card-text myClass head\"> Ratings \n                          <Rating name=\"half-rating-read\" defaultValue={ratings} precision={0.5} readOnly />\n                    </p>\n                    {/* <Link to ='/cart'><button className=\"button\" style={{borderRadius:'0px'}} onCleck={addToCart}> Add To Cart </button></Link> */}\n                    <button className=\"button\" style={{borderRadius:'0px'}} onClick={addToCart}> Add To Cart </button>\n\n                    </div>\n\n                    \n                </div>\n                </div>\n                </div>\n\n                <center><h4 class=\"card-title\" style={{fontSize:'30px',marginTop:'50px'}}>RELATED PRODUCTS</h4>\n                {cakelist&&cakelist.length>0?<div class=\"row row-cols-1 row-cols-md-4 row-cols-sm-3 row-cols-xs-12 g-4\">\n                <Cake data={cakelist}/></div>:<h4 style={{color:'#635a5b'}}>No related items :(</h4>}</center>\n                </>}\n        </div>\n        // end of container\n       \n    )\n}\n\nfunction mapStateToProps(state){\n    return{\n      token:state.AuthReducer.token,\n    }\n  };\n  \n  export default connect(mapStateToProps)(withRouter(CakeDetails));"]},"metadata":{},"sourceType":"module"}