{"ast":null,"code":"import axios from \"axios\";\nexport const loginMiddleware = data => {\n  return function (dispatch) {\n    axios({\n      url: process.env.REACT_APP_API_BASE_URL + '/login',\n      method: 'post',\n      data: {\n        email: data.email,\n        password: data.password\n      }\n    }).then(res => {\n      if (res.data.email) {\n        localStorage.setItem('token', res.data.token);\n        localStorage.setItem('userData', JSON.stringify(res.data));\n        dispatch({\n          type: \"LOGIN_SUCCESS\",\n          payload: {\n            token: res.data.token,\n            username: res.data.name\n          }\n        });\n      }\n    }, err => {\n      dispatch({\n        type: \"LOGIN_FAIL\"\n      });\n    });\n  };\n};\nexport const addCartMiddleware = data => {\n  return function (dispatch) {\n    axios({\n      url: process.env.REACT_APP_API_BASE_URL + '/addcaketocart',\n      method: 'post',\n      data: {\n        cakeid: data.cakeid,\n        image: data.image,\n        name: data.name,\n        price: data.price,\n        weight: data.weight\n      }\n    }).then(res => {\n      dispatch({\n        type: \"ADDTOCART\",\n        payload: {\n          data: res.data.data\n        }\n      });\n    }, err => {});\n  };\n};\nexport const emptyCartMiddleware = () => {\n  return function (dispatch) {\n    axios({\n      url: process.env.REACT_APP_API_BASE_URL + '/clearcart',\n      method: 'post'\n    }).then(res => {\n      console.log('empty res', res);\n      dispatch({\n        type: 'EMPTY_CART',\n        payload: {\n          data: res.data\n        }\n      });\n    }, err => {});\n  };\n};\nexport const removeOneCakeFromCartMiddleware = cakeId => {\n  return function (dispatch) {\n    axios({\n      url: process.env.REACT_APP_API_BASE_URL + '/removeonecakefromcart',\n      method: 'post',\n      data: {\n        cakeid: cakeId\n      }\n    }).then(res => {\n      dispatch({\n        type: 'REMOVE_ONE_FROM_CART',\n        payload: {\n          data: res.data\n        }\n      });\n    }, err => {});\n  };\n};\nexport const removeCakeFromCartMiddleware = cakeId => {\n  return function (dispatch) {\n    axios({\n      url: process.env.REACT_APP_API_BASE_URL + '/removecakefromcart',\n      method: 'post',\n      data: {\n        cakeid: cakeId\n      }\n    }).then(res => {\n      dispatch({\n        type: 'REMOVE_ITEM_FROM_CART',\n        payload: {\n          data: res.data\n        }\n      });\n    }, err => {});\n  };\n};\nexport const placeOrderMiddleware = data => {\n  return function (dispatch) {\n    axios({\n      url: process.env.REACT_APP_API_BASE_URL + '/addcakeorder',\n      method: 'post',\n      data: data\n    }).then(res => {\n      console.log('order p[lace res', res);\n      dispatch({\n        type: 'PLACE_ORDER',\n        payload: {\n          data: res.data\n        }\n      });\n    }, err => {});\n  };\n};","map":{"version":3,"sources":["/home/faizan/Desktop/my-apps-folder/new-react-app/src/reduxstore/Middlewares.js"],"names":["axios","loginMiddleware","data","dispatch","url","process","env","REACT_APP_API_BASE_URL","method","email","password","then","res","localStorage","setItem","token","JSON","stringify","type","payload","username","name","err","addCartMiddleware","cakeid","image","price","weight","emptyCartMiddleware","console","log","removeOneCakeFromCartMiddleware","cakeId","removeCakeFromCartMiddleware","placeOrderMiddleware"],"mappings":"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","sourcesContent":["import axios from \"axios\";\n\nexport const loginMiddleware = (data) => {\n    return function (dispatch) {\n        axios({\n            url: process.env.REACT_APP_API_BASE_URL +'/login',\n            method: 'post',\n            data: {email: data.email, password: data.password}\n        }).then(res => {\n            if (res.data.email) {\n                localStorage.setItem('token', res.data.token)\n                localStorage.setItem('userData', JSON.stringify(res.data))\n                dispatch({\n                    type: \"LOGIN_SUCCESS\",\n                    payload: {\n                        token: res.data.token,\n                        username: res.data.name\n                    }\n                })\n            }\n        }, err => {\n            dispatch({\n                type: \"LOGIN_FAIL\"\n            })\n        })\n    }\n}\n\nexport const addCartMiddleware = (data) => {\n    return function (dispatch) {\n        axios({\n            url: process.env.REACT_APP_API_BASE_URL +'/addcaketocart',\n            method: 'post',\n            data: {cakeid: data.cakeid, image: data.image, name: data.name, price: data.price, weight: data.weight}\n        }).then(res => {\n            dispatch({\n                type: \"ADDTOCART\",\n                payload: {\n                    data: res.data.data\n                }\n            })\n        }, err => {})\n    }\n}\n\nexport const emptyCartMiddleware = () => {\n    return function (dispatch) {\n        axios({\n            url: process.env.REACT_APP_API_BASE_URL + '/clearcart',\n            method: 'post'\n        }).then(res => {\n            console.log('empty res', res)\n            dispatch({\n                type: 'EMPTY_CART',\n                payload : {\n                    data: res.data\n                }\n                \n            })\n            \n        }, err => {})\n    }\n}\n\nexport const removeOneCakeFromCartMiddleware = (cakeId) => {\n    return function (dispatch) {\n        axios({\n            url: process.env.REACT_APP_API_BASE_URL + '/removeonecakefromcart',\n            method: 'post',\n            data: {cakeid: cakeId}\n        }).then(res => {\n            dispatch({\n                type: 'REMOVE_ONE_FROM_CART',\n                payload: {\n                    data: res.data\n                }\n            })\n        }, err => {})\n    }\n}\n\nexport const removeCakeFromCartMiddleware = (cakeId) => {\n    return function (dispatch) {\n        axios({\n            url: process.env.REACT_APP_API_BASE_URL + '/removecakefromcart',\n            method: 'post',\n            data: {cakeid: cakeId}\n        }).then(res => {\n            dispatch({\n                type: 'REMOVE_ITEM_FROM_CART',\n                payload: {\n                    data: res.data\n                }\n            })\n        }, err => {})\n    }\n}\n\nexport const placeOrderMiddleware = (data) => {\n    return function (dispatch) {\n        axios({\n            url: process.env.REACT_APP_API_BASE_URL + '/addcakeorder',\n            method: 'post',\n            data: data\n        }).then(res => {\n            console.log('order p[lace res', res)\n            dispatch({\n                type: 'PLACE_ORDER',\n                payload: {\n                    data: res.data\n                }\n            })\n        }, err => {})\n    }\n}"]},"metadata":{},"sourceType":"module"}